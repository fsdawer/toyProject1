import{h as m,_ as u,c as _,u as p,a as r,o,b as s,d as g,n as h,e as b,t as n,r as k,F as f,f as w,g as v}from "./index-Dr12_3DT.js";import{a as y}from "./CartService-IPvwP9qM.js";const x=()=>m.get("/v2/api/items").catch(c=>c.response),$={class:"card shadow-sm"},N=["aria-label"],C={class:"card-body"},P={class:"card-text"},S={class:"me-2"},I={class:"discount badge bg-danger"},B={class:"d-flex justify-content-between align-items-center"},L={class:"price text-muted"},V={class:"real text-danger"},z={__name:"Card",props:{item:{id:Number,imgPath:String,name:String,price:Number,discountPer:Number},rank:{type:Number,default:null}},setup(c){const t=c,d=_(()=>(t.item.price-t.item.price*t.item.discountPer/100).toLocaleString()+"원"),e=p(),i=async()=>{const a=await y(t.item.id);if(!a||a.status===401){window.alert("로그인 후 이용해주세요."),await e.push("/login");return}a.status===200&&window.confirm("장바구니에 상품을 담았습니다. 장바구니로 이동하시겠습니까?")&&await e.push("/cart")};return(a, l)=>(o(),r("div",$,[s("span",{class:"img",style:h({backgroundImage:`url(${t.item.imgPath})`}),"aria-label":`상품 사진(${t.item.name})`},null,12,N),t.rank?(o(),r("span",{key:0,class:b(["rank-badge",{"rank-first":t.rank===1,"rank-second":t.rank===2,"rank-third":t.rank===3}])},n(t.rank)+"등 ",3)):g("",!0),s("div",C,[s("p",P,[s("span",S,n(t.item.name),1),s("span",I,n(t.item.discountPer)+"%",1)]),s("div",B,[s("button",{class:"btn btn-primary btn-sm",onClick:l[0]||(l[0]= E=>i())},"장바구니 담기"),s("small",L,n(t.item.price.toLocaleString())+"원",1),s("small",V,n(d.value),1)])])]))}},D=u(z,[["__scopeId","data-v-6ca97acb"]]),F={class:"home"},R={class:"album py-5 bg-light"},j={class:"container"},q={class:"row row-cols-1 row-cols-lg-2 row-cols-xl-3 g-3"},G={__name:"Home",setup(c){const t=k({items:[]});return async function(){const e=await x();e.status===200&&(t.items=e.data)}(),(d, e)=>(o(),r("div",F,[s("div",R,[s("div",j,[s("div",q,[(o(!0),r(f,null,w(t.items,(i, a)=>(o(),r("div",{class:"col",key:i.id},[v(D,{item:i,rank:a+1},null,8,["item","rank"])]))),128))])])])]))}};export{G as default};
